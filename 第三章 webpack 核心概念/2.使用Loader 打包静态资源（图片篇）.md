当你在做 index.js 中对 jpg 图片打包时，在 dist 目录中图片被打包成了一串很长的字符串名称。

如果我们想不变动图片的名字怎么办？

这时就需要我们对 Loader 做一些额外的配置了。



# 静态资源的打包（图片篇）

在 `webpack.config.js`  中：

```js
   // ...   

	// 非 js 模块打包配置
    module: {
        rules: [
            // 图片文件
            {
                test: /\.jpg$/,
                use: [
                    {
                        loader: 'file-loader',
                        // 配置参数
                        options: {
                            // 配置打包后文件的名称
                            // 其中[name]代表原图片的名称，[ext]代表原图片的后缀
                            // placeholders 占位符
                            name: '[name].[ext]'
                        }
                    }
                ]
            }
        ]
    }

// ...
    
```

配置好后，再次打包

```js
npm run build
```

可以看到 dist 目录下，打包后的图片文件名字就变成了原图片的名称。

这种配置的语法，我们管它叫 **placeholders - 占位符**。

参考 https://www.webpackjs.com/loaders/file-loader/#placeholders



## 1. placeholders 

| **名称**     | **类型** | **默认值**      | **描述**                                                    |
| ------------ | -------- | --------------- | ----------------------------------------------------------- |
| **`[ext]`**  | {String} | `file.extname`  | 资源扩展名                                                  |
| **`[name]`** | {String} | `file.basename` | 资源的基本名称                                              |
| **`[path]`** | {String} | `file.dirname`  | 资源相对于 `context`的路径                                  |
| **`[hash]`** | {String} | `md5`           | 内容的哈希值                                                |
| **`[N]`**    | {Number} |                 | 当前文件名按照查询参数 `regExp` 匹配后获得到第 N 个匹配结果 |



## 2. outputPath

如果我们在打包时，希望图片被打包到一个叫 images/ 的文件夹中，该怎么办？

```js
 // ...   

	// 非 js 模块打包配置
    module: {
        rules: [
            // 图片文件
            {
                test: /\.jpg$/,
                use: [
                    {
                        loader: 'file-loader',
                        options: {
                            name: '[name].[ext]',
                            // 把打包后的文件放到 dist/images/文件夹中
                            outputPath: 'images/'
                        }
                    }
                ]
            }
        ]
    }

// ...
```

配置好后，再次打包

```js
npm run bundle
```

可以看到，图片就被打包到 dist/images 目录中了。同时打开 index.html文件，图片也可以正常被访问到。



其实，`file-loader`的配置非常多，大家在用的时候，只需要查阅官网API：

https://www.webpackjs.com/loaders/file-loader/